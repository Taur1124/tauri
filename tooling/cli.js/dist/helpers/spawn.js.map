{"version":3,"sources":["webpack://tauri/webpack/universalModuleDefinition","webpack://tauri/./src/helpers/logger.ts","webpack://tauri/./src/helpers/spawn.ts","webpack://tauri/external \"chalk\"","webpack://tauri/external \"cross-spawn\"","webpack://tauri/external \"ms\"","webpack://tauri/webpack/bootstrap","webpack://tauri/webpack/startup"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;ACVa;AACb;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,8BAA8B,mBAAO,CAAC,oBAAO;AAC7C,2BAA2B,mBAAO,CAAC,cAAI;AACvC;AACA,eAAe;AACf,2BAA2B,+BAA+B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;AC3BY;AACb;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,iBAAiB,GAAG,aAAa;AACjC,oCAAoC,mBAAO,CAAC,gCAAa;AACzD,+BAA+B,mBAAO,CAAC,yCAAU;AACjD,8BAA8B,mBAAO,CAAC,oBAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;;;;;;;;;;AC/DjB,mC;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,gC;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UCtBA;UACA;UACA;UACA","file":"helpers/spawn.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tauri\"] = factory();\n\telse\n\t\troot[\"tauri\"] = factory();\n})(this, function() {\nreturn ","\"use strict\";\r\n// Copyright 2019-2021 Tauri Programme within The Commons Conservancy\r\n// SPDX-License-Identifier: Apache-2.0\r\n// SPDX-License-Identifier: MIT\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar chalk_1 = __importDefault(require(\"chalk\"));\r\nvar ms_1 = __importDefault(require(\"ms\"));\r\nvar prevTime;\r\nexports.default = (function (banner, color) {\r\n    if (color === void 0) { color = chalk_1.default.green; }\r\n    return function (msg) {\r\n        var curr = +new Date();\r\n        var diff = curr - (prevTime || curr);\r\n        prevTime = curr;\r\n        if (msg) {\r\n            console.log(\r\n            // TODO: proper typings for color and banner\r\n            // eslint-disable-next-line @typescript-eslint/restrict-template-expressions, @typescript-eslint/no-unsafe-call\r\n            \" \" + color(String(banner)) + \" \" + msg + \" \" + chalk_1.default.green(\"+\" + ms_1.default(diff)));\r\n        }\r\n        else {\r\n            console.log();\r\n        }\r\n    };\r\n});\r\n","\"use strict\";\r\n// Copyright 2019-2021 Tauri Programme within The Commons Conservancy\r\n// SPDX-License-Identifier: Apache-2.0\r\n// SPDX-License-Identifier: MIT\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.spawnSync = exports.spawn = void 0;\r\nvar cross_spawn_1 = __importDefault(require(\"cross-spawn\"));\r\nvar logger_1 = __importDefault(require(\"./logger\"));\r\nvar chalk_1 = __importDefault(require(\"chalk\"));\r\nvar log = logger_1.default('app:spawn');\r\nvar warn = logger_1.default('app:spawn', chalk_1.default.red);\r\n/*\r\n  Returns pid, takes onClose\r\n */\r\nvar spawn = function (cmd, params, cwd, onClose) {\r\n    var _a;\r\n    log(\"Running \\\"\" + cmd + \" \" + params.join(' ') + \"\\\"\");\r\n    log();\r\n    // TODO: move to execa?\r\n    var runner = cross_spawn_1.default(cmd, params, {\r\n        stdio: 'inherit',\r\n        cwd: cwd,\r\n        env: process.env\r\n    });\r\n    runner.on('close', function (code) {\r\n        var _a;\r\n        log();\r\n        if (code) {\r\n            // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n            log(\"Command \\\"\" + cmd + \"\\\" failed with exit code: \" + code);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\r\n        onClose && onClose(code !== null && code !== void 0 ? code : 0, (_a = runner.pid) !== null && _a !== void 0 ? _a : 0);\r\n    });\r\n    return (_a = runner.pid) !== null && _a !== void 0 ? _a : 0;\r\n};\r\nexports.spawn = spawn;\r\n/*\r\n  Returns nothing, takes onFail\r\n */\r\nvar spawnSync = function (cmd, params, cwd, onFail) {\r\n    log(\"[sync] Running \\\"\" + cmd + \" \" + params.join(' ') + \"\\\"\");\r\n    log();\r\n    var runner = cross_spawn_1.default.sync(cmd, params, {\r\n        stdio: 'inherit',\r\n        cwd: cwd\r\n    });\r\n    // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\r\n    if (runner.status || runner.error) {\r\n        warn();\r\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\r\n        warn(\"\\u26A0\\uFE0F  Command \\\"\" + cmd + \"\\\" failed with exit code: \" + runner.status);\r\n        if (runner.status === null) {\r\n            warn(\"\\u26A0\\uFE0F  Please globally install \\\"\" + cmd + \"\\\"\");\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\r\n        onFail && onFail();\r\n        process.exit(1);\r\n    }\r\n};\r\nexports.spawnSync = spawnSync;\r\n","module.exports = require(\"chalk\");;","module.exports = require(\"cross-spawn\");;","module.exports = require(\"ms\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/helpers/spawn.ts\");\n"],"sourceRoot":""}